# ä¸»é¢˜

[TOC]

## 0.å‰è¨€

- [å‚è€ƒå®˜ç½‘](https://vuepress.vuejs.org/zh/theme/)



## 1. ä½¿ç”¨æ¥è‡ªä¾èµ–çš„ä¸»é¢˜

```
module.exports = {
  theme: 'vuepress-theme-xx'
}
```



## 2. å¼€å‘ä¸»é¢˜

- æ–‡æ¡£æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª `.vuepress/theme` ç›®å½•ï¼Œæ¥ç€åˆ›å»ºä¸€ä¸ª `Layout.vue` æ–‡ä»¶ï¼š

```
.
â””â”€ .vuepress
 â””â”€ theme
     â””â”€ Layout.vue
```



## 3. ç›®å½•ç»“æ„

### 3.1 æ–°å»ºæ–‡ä»¶

- æŒ‰ç…§å®˜æ–¹æ–‡æ¡£ï¼Œæ–°å»ºç›¸å…³æ–‡ä»¶å³å¯
- å»ºå¥½ä»¥ä¸‹ç›®å½•åï¼ˆ**æ³¨æ„å…ˆä¸è¦åˆ›å»º**`package.json` å’Œ `template` æ–‡ä»¶å¤¹ï¼‰ï¼Œè¿è¡Œä¸€ä¸‹ `vuepress dev docs` å‘ç°æ˜¯ç©ºç™½çš„ï¼Œè¯´æ˜æˆ‘ä»¬çš„ `layout.vue` å·²ç»ç”Ÿæ•ˆäº†ã€‚è¿è¡Œå®Œååˆ›å»º`package.json` å’Œ `template` æ–‡ä»¶å¤¹ï¼Œæ·»åŠ ç›¸å…³ä¿¡æ¯ã€‚ï¼ˆğŸ’¥å¦‚æœå…ˆåˆ›å»ºè¿è¡Œä¼šæŠ¥é”™ï¼‰

```
theme
â”œâ”€â”€ global-components
â”‚   â””â”€â”€ xxx.vue
â”œâ”€â”€ components
â”‚   â””â”€â”€ xxx.vue
â”œâ”€â”€ layouts
â”‚   â”œâ”€â”€ Layout.vue (å¿…è¦çš„)
â”‚   â””â”€â”€ 404.vue
â”œâ”€â”€ styles
â”‚   â”œâ”€â”€ index.styl
â”‚   â””â”€â”€ palette.styl
â”œâ”€â”€ templates
â”‚   â”œâ”€â”€ dev.html
â”‚   â””â”€â”€ ssr.html
â”œâ”€â”€ index.js
â”œâ”€â”€ enhanceApp.js
â””â”€â”€ package.json
```

- `theme/global-components`: è¯¥ç›®å½•ä¸‹çš„ç»„ä»¶éƒ½ä¼šè¢«è‡ªåŠ¨æ³¨å†Œä¸ºå…¨å±€ç»„ä»¶ã€‚æƒ³äº†è§£æ›´å¤šï¼Œè¯·å‚è€ƒ [@vuepress/plugin-register-components (opens new window)](https://github.com/vuejs/vuepress/tree/master/packages/@vuepress/plugin-register-components)ã€‚
- `theme/components`: Vue ç»„ä»¶ã€‚
- `theme/layouts`: å¸ƒå±€ç»„ä»¶ï¼Œå…¶ä¸­ `Layout.vue` æ˜¯å¿…éœ€çš„ã€‚
- `theme/styles`: å…¨å±€çš„æ ·å¼å’Œè°ƒè‰²æ¿ã€‚
- `theme/templates`: ä¿®æ”¹é»˜è®¤çš„æ¨¡æ¿æ–‡ä»¶ã€‚
- `theme/index.js`: ä¸»é¢˜æ–‡ä»¶çš„å…¥å£æ–‡ä»¶ã€‚
- `theme/enhanceApp.js`: ä¸»é¢˜æ°´å¹³çš„å®¢æˆ·ç«¯å¢å¼ºæ–‡ä»¶ã€‚



### 3.2 æ·»åŠ ä¿¡æ¯

- åœ¨ `theme/index.js` ä¸­åŠ å…¥ï¼š

```
module.exports = {
   // ...
}
```

- åœ¨theme/package.jsonä¸­åŠ å…¥

  ```
  {
      "main": "layouts/Layout.vue"
  }
  ```

  

### 3.3 å¼€å‘ layout.vue

- æŒ‰ç…§è‡ªå·±æƒ³è¦çš„å¸ƒå±€åœ¨ `layout.vue` ä¸­å¼€å‘äº†ã€‚éœ€è¦ç”¨åˆ°çš„ç»„ä»¶éƒ½å†™åˆ° `theme/components` ä¸‹ï¼Œåœ¨ `layout.vue` ä¸­å¼•å…¥å³å¯ã€‚

- æ•´ä½“å¸ƒå±€åˆ†æˆ `main`ã€`content`ã€`footer` éƒ¨åˆ†ã€‚

```
theme
â”œâ”€â”€ components        // Vue ç»„ä»¶
â”‚   â”œâ”€â”€ Header.vue 
â”‚   â””â”€â”€ Footer.vue
```

- Header.vue

```vue
<template>
  <h1>Header</h1>
</template>

<script>
export default {

}
</script>

<style lang='scss' scoped>

</style>
```

- Footer.vue

```vue
<template>
  <h1>Footer</h1>
</template>

<script>
export default {

}
</script>

<style lang='scss' scoped>

</style>
```



- åœ¨ `layout.vue` æ­£å¸¸å¼•å…¥å³å¯ï¼š

  ```vue
  <template>
    <div>
      <Header />
      <Content />
      <Footer />
    </div>
  </template>
  
  <script>
  import Header from "../components/Header"
  import Footer from "../components/Footer"
  
  export default {
    components: {
      Header,
      Footer
    }
  };
  </script>
  ```

- å†™å¥½åï¼Œ è¿è¡Œ `npm run docs:dev` å³å¯çœ‹è§ä½ çš„é¡µé¢ã€‚æ¥ä¸‹æ¥å°±åƒå†™ä¸€ä¸ªæ­£å¸¸çš„ `vue` é¡¹ç›®ä¸€æ ·ï¼Œå¼€å§‹å†™ä½ è‡ªå·±çš„åšå®¢ä¸»é¢˜ã€‚



### 3.4 å°†ç¬¬ä¸‰æ–¹ UI é›†æˆåˆ°ä¸»é¢˜ä¸­

- ä»¥å¼€å‘é¡¶éƒ¨å¯¼èˆªæ ä¸ºä¾‹ï¼Œç¤ºèŒƒå®‰è£…ç¬¬ä¸‰æ–¹åº“ `element-ui` åŠä½¿ç”¨ã€‚

- cd åˆ° theme ç›®å½•ä¸‹ï¼Œè¿è¡Œå‘½ä»¤å®‰è£…ï¼š`npm i element-ui -S`ã€‚

  ```
   cd .\docs\.vuepress\theme\
  ```

- æ¨èæŒ‰éœ€å¼•å…¥ï¼Œéœ€è¦å®‰è£… `babel-plugin-component`ï¼Œè¿è¡Œå‘½ä»¤å®‰è£… :`npm install babel-plugin-component -D`ã€‚

- `theme` ç›®å½•ä¸‹æ–°å»º `.babelrc` å¹¶ä¿®æ”¹ä¸ºï¼š

  ```
  {
    "presets": [["es2015", { "modules": false }]],
    "plugins": [
      [
        "component",
        {
          "libraryName": "element-ui",
          "styleLibraryName": "theme-chalk"
        }
      ]
    ]
  }
  
  ```

  

- å¦‚æœä½ åªå¸Œæœ›å¼•å…¥éƒ¨åˆ†ç»„ä»¶ï¼Œæ¯”å¦‚ `Menu` ï¼Œé‚£ä¹ˆéœ€è¦åœ¨ `enhanceApp.js` ä¸­å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š

```js
import {
    Menu,
    Submenu,
    MenuItem,
    MenuItemGroup
  } from 'element-ui';
  import 'element-ui/lib/theme-chalk/index.css';
  export default ({
    Vue, // VuePress æ­£åœ¨ä½¿ç”¨çš„ Vue æ„é€ å‡½æ•°
    options, // é™„åŠ åˆ°æ ¹å®ä¾‹çš„ä¸€äº›é€‰é¡¹
    router, // å½“å‰åº”ç”¨çš„è·¯ç”±å®ä¾‹
    siteData, // ç«™ç‚¹å…ƒæ•°æ®
    isServer // å½“å‰åº”ç”¨é…ç½®æ˜¯å¤„äº æœåŠ¡ç«¯æ¸²æŸ“ æˆ– å®¢æˆ·ç«¯
  }) => {
    Vue.use(Menu)
    Vue.use(Submenu)
    Vue.use(MenuItem)
    Vue.use(MenuItemGroup)
  }
  
```

- ä»¥ä¸Šæ­¥éª¤å®‰è£…å¥½ä¹‹åï¼Œå°±å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼Œæ–¹æ³•å’Œæ™®é€šçš„ `vue` é¡¹ç›®ä¸€æ ·ã€‚



- è¿™ä¸€éƒ¨åˆ†å…ˆæ”¾ä¸€ä¸‹ï¼Œä»¥åæ…¢æ…¢å†å†™ğŸ˜…



### 3.5 ä½¿ç”¨vuepress å®˜æ–¹æ’ä»¶

#### 3.4.1 å®‰è£…

- ä»¥å¼€å‘é¡¶éƒ¨å¯¼èˆªæ ä¸ºä¾‹ï¼Œç¤ºèŒƒå®‰è£…æ’ä»¶ `search` æ¡†åŠä½¿ç”¨ã€‚æ’ä»¶çš„å®‰è£…åœ¨ [å®˜æ–¹æ–‡æ¡£](https://vuepress.vuejs.org/zh/plugin/official/plugin-search.html) ä¸­å·²ç»è¯´æ˜çš„å¾ˆæ¸…æ¥šï¼Œè¿™é‡Œç¤ºèŒƒä¸€ä¸‹ã€‚

  ```
   npm install -D @vuepress/plugin-search
  ```

#### 3.4.2 é…ç½®

- åœ¨ `.vuepress/config.js` ä¸­ï¼š

```
// .vuepress/config.js or themePath/index.js
module.exports = {
  plugins: [
    ['@vuepress/search', {
      searchMaxSuggestions: 10
    }]
  ]
}
```



#### 3.4.3ä½¿ç”¨

- `search` æ’ä»¶å°†è‡ªåŠ¨æ³¨å…¥æŒ‡å‘æœç´¢ç»„ä»¶çš„ `webpack` åˆ«å `@SearchBox`ï¼Œå¯ä»¥ç›´æ¥åœ¨ `layout` ç»„ä»¶ä¸­ä½¿ç”¨å®ƒï¼š

```vue
<template>
  <div>
    <div class="foo-layout">
      <header>
        <SearchBox />
      </header>
      <main>ä¸»è¦å†…å®¹</main>
    </div>
    <Header />
    <Content />
    <Footer />
  </div>
</template>

<script>
import Header from "../components/Header";
import Footer from "../components/Footer";
import SearchBox from "@SearchBox";

export default {
  components: {
    Header,
    Footer,
    SearchBox,
  },
};
</script>

```



- å¯åŠ¨

  ```
  npm run docs:dev
  ```

- é¢„è§ˆ

  ![](IMG/å¾®ä¿¡æˆªå›¾_20210103145401.png)

  



### 3.6 å¼•å…¥Markdownæ ·å¼

#### 3.6.1 æ‰‹åŠ¨å¼•å…¥Markdownæ ·å¼

- è‡ªå®šä¹‰ä¸»é¢˜éœ€è¦æ‰‹åŠ¨å¼•å…¥Markdownæ ·å¼

- åœ¨ `<Content>` ä¸­æ˜¾ç¤ºçš„Markdownæ–‡ä»¶æ˜¯æ²¡æœ‰ä»»ä½•æ ·å¼çš„ï¼Œè¿™éœ€è¦æˆ‘ä»¬è‡ªå·±å†™ä¸€ä¸ªMarkdownæ ·å¼ï¼Œä½†æ˜¯è¿™æ ·çœŸçš„å¤ªè´¹åŠ›æ°”ã€‚æˆ‘ä»¬ä¸å¦‚å»æ‰¾ä¸€ä»½è‡ªå·±å–œæ¬¢çš„æ ·å¼ã€‚äºæ˜¯åœ¨ `typora` ä¸Šæ‰¾åˆ°ä¸€ä»½ä¸»é¢˜ [`Maize`](http://theme.typora.io/theme/Maize/)ï¼Œæ·»åŠ åˆ° `style` æ–‡ä»¶å¤¹ä¸‹å¹¶å¼•å…¥åæ•ˆæœå¯¹æ¯”ï¼š

  

  


#### 3.6.2é¡µé¢è·¯ç”±è·³è½¬



## å‘å¸ƒä¸»é¢˜åˆ°npm

å‘å¸ƒä¸»é¢˜åˆ°`npm`:

- å°†ä½ çš„ä¸»é¢˜æ¨é€åˆ° `github` ä»“åº“ï¼Œè¿™é‡Œçš„ä¸»é¢˜æ˜¯æŒ‡ `.vuepress` æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰å†…å®¹éœ€è¦æ¨é€åˆ° `github`ã€‚
- åœ¨ npm ä¸Šæ³¨å†Œ `https://www.npmjs.com/`ï¼Œå¡«å…¥ä¿¡æ¯å¹¶éªŒè¯é‚®ç®±ã€‚
- è¿›å…¥è¦å‘å¸ƒçš„é¡¹ç›®æ ¹ç›®å½• `.vuepress`ï¼Œåˆå§‹åŒ–ä¸º `npm` åŒ…ï¼š

- è¿›å…¥è¦å‘å¸ƒçš„é¡¹ç›®æ ¹ç›®å½• `.vuepress`ï¼Œåˆå§‹åŒ–ä¸º `npm` åŒ…ï¼š

```
npm init
å¤åˆ¶ä»£ç 
```

- ä¾æ¬¡æŒ‰æç¤ºå¡«å…¥åŒ…åã€ç‰ˆæœ¬ã€æè¿°ã€`github` åœ°å€ã€å…³é”®å­—ã€licenseç­‰ï¼Œä½ çš„ä¸»é¢˜å‘½åå¯ä»¥æ˜¯ `vuepress-theme-` å¼€å¤´çš„ï¼Œè¿™æ ·åˆ«äººå¼•ç”¨æ—¶å¯ä»¥ç®€å†™æˆ `vuepress-theme-` åé¢çš„å­—æ®µã€‚
- åœ¨æœ¬åœ°ç™»å½•ä½ çš„ `npm` è´¦å·ï¼Œå¹¶è¾“å…¥è´¦å·ä¿¡æ¯ï¼š

```
npm login
å¤åˆ¶ä»£ç 
```

- å°†ä½ çš„åŒ…å‘å¸ƒï¼ŒæˆåŠŸçš„è¯å°±å¯ä»¥åœ¨npmä¸Šæœç´¢åˆ°ä½ å‘å¸ƒçš„åŒ…äº†~

```
npm publish
å¤åˆ¶ä»£ç 
```

- è¿™æ ·å°±å¯ä»¥æœç´¢åˆ°æˆ‘çš„ä¸»é¢˜ `vuepress-theme-mount` ï¼š

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c633d5bbad554de4b97e81ca9f560c77~tplv-k3u1fbpfcp-zoom-1.image)





### ä½¿ç”¨è‡ªå®šä¹‰ä¸»é¢˜

- ä»¥ `vuepress-theme-mount` ä¸ºä¾‹

- åœ¨æœ¬åœ°æ–°å»ºæ–‡ä»¶å¤¹ `vuepress-starter`ï¼ŒåŒ…å«ä»¥ä¸‹ç›®å½•ç»“æ„ï¼š

![img](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/42f5baaaac694f0098013cae237b8812~tplv-k3u1fbpfcp-zoom-1.image)

- åœ¨ç›®å½•ä¸‹å®‰è£…åŒ…ï¼š

```
npm init
npm i vuepress-theme-mount
å¤åˆ¶ä»£ç 
```

- åœ¨config.jsä¸­è¾“å…¥ï¼š

```
// .vuepress/config.js
module.exports = {
  theme: 'mount'  // or 'vuepress-theme-mount'
}
å¤åˆ¶ä»£ç 
```

- åœ¨ package.json ä¸­åŠ å…¥ï¼Œå¹¶ä½¿ç”¨å‘½ä»¤ `vuepress dev docs` è¿è¡Œé¡¹ç›®ï¼Œå³å¯æ‰“å¼€ä½ çš„åšå®¢ã€‚

```
{
  "scripts": {
    "docs:dev": "vuepress dev docs",
    "docs:build": "vuepress build docs"
  }
}
```

- [ref](https://juejin.cn/post/6869565504756023310)